@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    color-scheme: light;
  }

  .dark {
    color-scheme: dark;
  }

  html {
    @apply scroll-smooth;
  }

  body {
    @apply bg-zinc-50 text-zinc-800 transition-colors duration-300 dark:bg-zinc-800 dark:text-zinc-200;
  }

  /* Custom selection color for personality */
  ::selection {
    @apply bg-primary-200 text-primary-900 dark:bg-primary-900 dark:text-primary-100;
  }

  /* Inline code styling */
  :not(pre) > code {
    @apply rounded border border-zinc-200 bg-zinc-100 px-1.5 py-0.5 text-sm font-medium text-primary-700 dark:border-zinc-700 dark:bg-zinc-700 dark:text-primary-300;
  }

  /* Remove decorative backticks around inline code from typography plugin */
  .prose :not(pre) > code::before,
  .prose :not(pre) > code::after {
    content: none !important;
  }

  /* Code block styling (scoped to prose to beat typography defaults) */
  .prose pre.astro-code {
    @apply my-6 overflow-x-auto rounded-lg p-5;
    background-color: #f4f5f6 !important; /* subtle contrast in light */
    border: 1px solid #e2e4e7 !important;
  }

  /* Ensure inner code doesn't add extra spacing */
  .prose pre.astro-code code { display: block; }

  /* Dark mode code blocks */
  .dark .prose pre.astro-code {
    background-color: #202224 !important; /* softer dark */
    border-color: #34383d !important;
  }

  /* Override span colors for dark mode */
  .dark .prose .astro-code span { color: var(--shiki-dark) !important; }
}

@layer components {
  /* Gradient text for personality */
  .gradient-text {
    @apply bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent dark:from-primary-400 dark:to-accent-400;
  }

  /* Link styling with personality */
  .link {
    @apply text-primary-600 underline decoration-primary-300 decoration-2 underline-offset-2 transition-colors hover:text-primary-700 hover:decoration-primary-500 dark:text-primary-400 dark:decoration-primary-700 dark:hover:text-primary-300 dark:hover:decoration-primary-500;
  }

  /* Button base */
  .btn {
    @apply inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 dark:focus-visible:ring-offset-zinc-950;
  }

  .btn-primary {
    @apply btn bg-primary-600 text-white hover:bg-primary-700 dark:bg-primary-500 dark:hover:bg-primary-600;
  }

  .btn-secondary {
    @apply btn border border-zinc-300 bg-zinc-50 text-zinc-800 hover:bg-zinc-100 dark:border-zinc-700 dark:bg-zinc-900 dark:text-zinc-200 dark:hover:bg-zinc-800;
  }
}

@layer utilities {
  /* Container with personality - asymmetric padding for visual interest */
  .container-custom {
    @apply mx-auto max-w-4xl px-6 sm:px-8 lg:px-12;
  }

  /* Hide scrollbars for overflow containers */
  .no-scrollbar {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }
  .no-scrollbar::-webkit-scrollbar { display: none; }
}

