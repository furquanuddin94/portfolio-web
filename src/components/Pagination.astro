---
export interface Props {
  currentPage: number;
  lastPage: number;
  urlPattern: string;
}

const { currentPage, lastPage, urlPattern } = Astro.props;

const prevUrl = currentPage > 1 ? urlPattern.replace('[page]', String(currentPage - 1)) : null;
const nextUrl = currentPage < lastPage ? urlPattern.replace('[page]', String(currentPage + 1)) : null;
---

{lastPage > 1 && (
  <nav class="flex items-center justify-center gap-2" aria-label="Pagination">
    {prevUrl ? (
      <a
        href={prevUrl}
        class="btn-secondary flex items-center gap-1"
        aria-label="Previous page"
      >
        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
        <span>Previous</span>
      </a>
    ) : (
      <span class="btn-secondary cursor-not-allowed opacity-50">
        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
        <span>Previous</span>
      </span>
    )}

    <span class="text-sm text-zinc-600 dark:text-zinc-400">
      Page {currentPage} of {lastPage}
    </span>

    {nextUrl ? (
      <a
        href={nextUrl}
        class="btn-secondary flex items-center gap-1"
        aria-label="Next page"
      >
        <span>Next</span>
        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </a>
    ) : (
      <span class="btn-secondary cursor-not-allowed opacity-50">
        <span>Next</span>
        <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      </span>
    )}
  </nav>
)}

